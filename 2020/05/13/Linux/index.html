<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Linux," />










<meta name="description" content="Linux面试常考命令 chmod  1、文字设定用法： 1chmod [who] [+ | - | &#x3D;] [mode] 文件名  命令中各选项的含义为（1）操作对象 who可以是下述字母中的任一个或者它们的组合u 表示用户(user) 即文件或目录的所有者g 表示同组(group)用户 即与文件属主有相同组 ID 的所有用户o 表示其他(others)用户a 表示所有(all)用户 它是系统默认">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux">
<meta property="og:url" content="http://yoursite.com/2020/05/13/Linux/index.html">
<meta property="og:site_name" content="翟安然&#39;s Blog">
<meta property="og:description" content="Linux面试常考命令 chmod  1、文字设定用法： 1chmod [who] [+ | - | &#x3D;] [mode] 文件名  命令中各选项的含义为（1）操作对象 who可以是下述字母中的任一个或者它们的组合u 表示用户(user) 即文件或目录的所有者g 表示同组(group)用户 即与文件属主有相同组 ID 的所有用户o 表示其他(others)用户a 表示所有(all)用户 它是系统默认">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://yoursite.com/2020/05/13/Linux/linuxbash.png">
<meta property="article:published_time" content="2020-05-13T03:18:40.000Z">
<meta property="article:modified_time" content="2020-05-13T10:23:43.098Z">
<meta property="article:author" content="翟安然">
<meta property="article:tag" content="Linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/05/13/Linux/linuxbash.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2020/05/13/Linux/"/>





  <title>Linux | 翟安然's Blog</title>
  








<meta name="generator" content="Hexo 4.2.0"></head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">翟安然's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            Categories
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/05/13/Linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="翟安然">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="翟安然's Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Linux</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-05-13T11:18:40+08:00">
                2020-05-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="Linux面试常考命令"><a href="#Linux面试常考命令" class="headerlink" title="Linux面试常考命令"></a>Linux面试常考命令</h3><ol>
<li>chmod</li>
</ol>
<p>1、文字设定用法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod [who] [+ | - | =] [mode] 文件名</span><br></pre></td></tr></table></figure>

<p>命令中各选项的含义为<br>（1）操作对象 who可以是下述字母中的任一个或者它们的组合<br>u 表示用户(user) 即文件或目录的所有者<br>g 表示同组(group)用户 即与文件属主有相同组 ID 的所有用户<br>o 表示其他(others)用户<br>a 表示所有(all)用户 它是系统默认值<br>（2）操作符号可以是 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">+添加某个权限 </span><br><span class="line">-取消某个权限  </span><br><span class="line">=赋予给定权限,并取消其他所有权限</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>（3）mode表示权限 常用的参数有 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">r 可读     	  4</span><br><span class="line">w 可写    	  2</span><br><span class="line">x 可执行 		 1</span><br></pre></td></tr></table></figure>

<p>（4）举例 </p>
<ul>
<li>将文件 text的权限设为可执行 <code>chmod =rx text</code> 执行成功后 用 ls -l tex命令查看文件属性的结果如下 </li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">-r-xr-xr-x 1 user  group            0 Feb 10 09:42 script </span><br><span class="line"><span class="comment">#文件属主权限r-x</span></span><br><span class="line"><span class="comment">#同组用户权限r-x</span></span><br><span class="line"><span class="comment">#其他用户权限r-x</span></span><br><span class="line"><span class="comment">#等同于执行chmod 555 text</span></span><br></pre></td></tr></table></figure>

<ul>
<li>将文件 text 的权限设为 文件属主可读 可写 可执行 与文件属主同组 的用户可读 其他用户不可读 命令如下<br>chmod u=rwx,g=r,o= text             注意,后无空格 o=后有空格<br>执行成功后用<code>ls –l text</code>命令查看文件属性的结果如下<br><code>-rwxr-----    1 user  group            0 Feb 10 09:42 text</code></li>
</ul>
<ol start="2">
<li>chown</li>
</ol>
<p>chown 用于更改某个文件或目录的属主和属组 如 root用户把自己的一个文件拷贝给用户 oracle 为了让用户oracle能够存 取这个文件 root用户应该把这个文件的属主设为oracle 否则用户oracle 无法存取这个文件 chown 的基本用法为 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chown [用户:组] 文件 </span><br><span class="line"><span class="comment">#例如$chown oracle:dba text 该命令将 text 文件的属主和属组分别改为 oracle和dba</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>文件查看cat head tail more less的区别</li>
</ol>
<ul>
<li><p>cat 命令是将整个文件的内容从上到下显示在屏幕上。 more 命令会一页一页的显示，方便使用者逐页阅读，而最基本的指令就是按空白键（space）往下一页显示，按 b 键就会往回（back）一页显示，而且还有搜寻字串的功能 。more 命令从前向后读取文件，因此在启动时就加载整个文件。</p>
</li>
<li><p>主要是用来显示档案的开头至标准输出中，默认 head 命令打印其相应文件的开头 10 行；tail 命令主要用于显示指定文件末尾内容。常用查看日志文件。</p>
</li>
<li><p>less可以按键盘上下方向键显示上下内容,more不能通过上下方向键控制显示； less不必读整个文件，加载速度会比more更快； less退出后shell不会留下刚显示的内容,而more退出后会在shell上留下刚显示的内容</p>
</li>
</ul>
<ol start="4">
<li>静态显示系统当前的进程和其他状况ps </li>
</ol>
<ol start="5">
<li><p>动态显示系统当前的进程和其他状况top</p>
</li>
<li><p>压缩tar</p>
</li>
<li><p>终止后台进程kill</p>
</li>
<li><p>文件编辑：vi命令行模式、文本输入模式、末行模式-插入附加打开查找替换</p>
</li>
<li><p>文件拷贝cp</p>
</li>
<li><p>ifconfig查看和配置网络接口（通常是网卡）信息，包括网络接口设备的IP地址、掩码等</p>
</li>
<li><p>route管理Linux系统内核中的路由表，最大用途就是设定静态的路由表项</p>
</li>
<li><p>Linux提供了一组强有力的网络命令来为用户服务 这些工具能够帮助用户登 录到远程计算机上 传输文件和执行远程命令等 主要包括Linux提供了一组强有力的网络命令来为用户服务 这些工具能够帮助用户登 录到远程计算机上 传输文件和执行远程命令等 。主要包括ftp传输文件和telnet  登录到远程计算机上</p>
</li>
<li><p>Linux系统常用的网络操作命令包括 netstat nslookup host finger和 ping netstat命令的功能是显示网络连接路由表和网络接口信息,可以让用户得知目前都有哪些网络连接正在运作 ; nslookup命令的功能是查询一台机器的 IP 地址和其对应的域名它通常需要一台域名服务器来提供域名服务 如果用户已经设置好域名服务器就可以用这个命令查看不同主机的 IP地址对应的域名; host命令可根据主机名查询主机的 IP 地址或根据主机 IP地址查询主机名; finger命令的功能是查询用户的信息通常会显示系统中某个用户的用户名 主目录 停滞时间 登录时间 登录 shell等信息; ping命令用于查看网络上的主机是否在工作</p>
</li>
<li><p>文件查找find</p>
<p><strong>1. ps是什么？</strong></p>
<p>要对进程进行监测和控制，首先必须要了解当前进程的情况,也就是需要查看当前进程，ps命令就是最基本进程查看命令。使用该命令可以确定有哪些进程正在运行和运行的状态、进程是否结束、进程有没有僵尸、哪些进程占用了过多的资源等等.总之大部分信息都是可以通过执行该命令得到。</p>
<p><strong>ps是显示瞬间进程的状态，并不动态连续</strong>；如果想对进程进行实时监控应该用top命令。</p>
</li>
</ol>
<pre><code>**基本参数：**

- -A ：所有的进程均显示出来，与 -e 具有同样的效用；
- -a ：显示现行终端机下的所有进程，包括其他用户的进程；
- -u ：以用户为主的进程状态 ；
- x ：通常与 a 这个参数一起使用，可列出较完整信息。

**输出格式规划：**

- l ：较长、较详细的将该PID 的的信息列出；
- j ：工作的格式 (jobs format)
- -f ：做一个更为完整的输出。



下面我们就来一个命令进行实践，看看不同的参数都有些什么效果。

#### **2. 不加参数执行ps命令会输出什么？**

这是一个基本的 **ps** 使用，我们来看看控制台中执行这个命令并查看结果。

![img](https://mmbiz.qpic.cn/mmbiz_png/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et7ZXaQLQicCX8yuMe3IiaJZWHiaJNz2IZPtjr8fl6aLlIgTP7OKZ8SXhg0w/640?tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

结果默认会显示4列信息：

- PID: 运行着的命令(CMD)的进程编号
- TTY: 命令所运行的位置（终端）
- TIME: 运行着的该命令所占用的CPU处理时间
- CMD: 该进程所运行的命令

这些信息在显示时未排序。

#### **3. 如何显示所有当前进程？**

使用 **-a** 参数，**-a 代表 all**。同时加上x参数会显示没有控制终端的进程。

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ps -ax</span><br><span class="line"><span class="comment"># 这个命令的结果或许会很长。为了便于查看，可以结合less命令和管道来使用。</span></span><br><span class="line">$ ps -ax | less</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz_png/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et7HEv4ppaziacIqB6cLOibic1bbTHnBmiaJQLBD2avtryqfqoriayRmBKm57Q/640?tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

#### **4. 如何根据进程的用户进行信息过滤呢？**

在需要查看特定用户进程的情况下，我们可以使用 **-u** 参数。比如我们要查看用户&apos;pungki&apos;的进程，可以通过下面的命令：

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -u pungki</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz_png/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et7b8RqXeSxo7e9x1v20icEyvR6IZtIzB49WlQgsqqQeBia1xF3P8fOxnjg/640?tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

#### **5. 如何通过cpu和内存使用来过滤进程？**

也许你希望把结果按照 CPU 或者内存用量来筛选，这样你就找到哪个进程占用了你的资源。要做到这一点，我们可以使用 **aux** 参数，来显示全面的信息:

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -aux | less</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz_png/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et74asPxeJxonhGjtnzph8feqicKlCtVwyLz6icXMRqaiabFW16jU5l4Xwnw/640?tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

当结果很长时，我们可以使用管道和less命令来筛选。

默认的结果集是未排好序的。可以通过 **--sort**命令来排序。

#### **5.1 根据CPU使用率来升序排序**

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -aux --sort -pcpu | less</span><br></pre></td></tr></table></figure>

#### **5.2 根据内存使用率来升序排序**

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -aux --sort -pmem | less</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz_png/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et7vTiaQCgtYHReWo1mfPUWsiaJBrUqwjy3XNqP2clfrHa9N1UbuBrnybAw/640?tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

#### **5.3 我们也可以将它们合并到一个命令，并通过管道显示前10个结果：**

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -aux --sort -pcpu,+pmem | head -n 10</span><br></pre></td></tr></table></figure>

#### **6. 如何通过进程名和PID进行过滤呢？**

使用 **-C** 参数，后面跟你要找的进程的名字。比如想显示一个名为getty的进程的信息，就可以使用下面的命令：

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -C getty</span><br></pre></td></tr></table></figure>

如果想要看到更多的细节，我们可以使用-f参数来查看格式化的信息列表：

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -f -C getty</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et7Yx8qqmjiaexudSYG7A93djdPpYygoXhFb5befMYibsDcnRUHg3b3XoAA/640?wx_fmt=other&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

#### **7. 如何根据线程来过滤进程呢？**

如果我们想知道特定进程的线程，可以使用 **-L** 参数，后面加上特定的PID。

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -L 1213</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et7wibmuEjkciazstzib8S86qV8UwEAsuO7eqwZermrVNEGics4PKgYDEmTXw/640?wx_fmt=other&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

#### **8. 如何树形的显示进程？**

有时候我们希望以树形结构显示进程，可以使用 **-axjf** 参数。

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -axjf</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et77diawWtoeE5Iniby2tf49qJgaiaWm1Cs7lB5GljMXjjXHLk2ibxla6MVjg/640?wx_fmt=other&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

或者可以使用另一个命令。

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ pstree</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et7PAFfVxmNGgzz9ZKpXnq5LP8fq8Gx9qI08hIicyBBrf68lpk8AnsLfaw/640?wx_fmt=other&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

#### **9. 如何显示安全信息？**

如果想要查看现在有谁登入了你的服务器。可以使用ps命令加上相关参数:

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -eo pid,user,args</span><br></pre></td></tr></table></figure>

参数 **-e** 显示所有进程信息，**-o** 参数控制输出。**Pid**,**User** 和 **Args**参数显示PID，**运行应用的用户**和**该应用**。

![img](https://mmbiz.qpic.cn/mmbiz_png/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et79YpfJYjNHpzoT33GzvBcwmCBVvibKLLIReSosNm5WicG6fb2yY0TNUfQ/640?tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

能够与 **-e** 参数 一起使用的关键字是**args, cmd, comm, command, fname, ucmd, ucomm, lstart, bsdstart 和 start**。

#### **10. 如何格式化输出root用户（真实的或有效的UID）创建的进程？**

系统管理员想要查看由root用户运行的进程和这个进程的其他相关信息时，可以通过下面的命令:

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ps -U root -u root u</span><br></pre></td></tr></table></figure>

**-U** 参数按真实用户ID(RUID)筛选进程，它会从用户列表中选择真实用户名或 ID。真实用户即实际创建该进程的用户。

**-u** 参数用来筛选有效用户ID（EUID）。

最后的 **u** 参数用来决定以针对用户的格式输出，由**User, PID, %CPU, %MEM, VSZ, RSS, TTY, STAT, START, TIME 和 COMMAND**这几列组成。

这里有上面的命令的输出结果：

![img](https://mmbiz.qpic.cn/mmbiz_png/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et77m2ydG87MaLOFgtiaH39fEeqmrL4C3hvqJdFESLRHh982qiaNXiasobCg/640?tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

#### **11. 如何使用PS实时监控进程状态？**

ps 命令会显示你系统当前的进程状态，但是这个结果是静态的。

当有一种情况，我们需要像上面第四点中提到的通过CPU和内存的使用率来筛选进程，并且我们希望结果能够每秒刷新一次。为此，我们可以**将ps命令和watch命令结合起来**。

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ watch -n 1 ‘ps -aux --sort -pmem, -pcpu’</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et7cpp0QavUZ8vh0zVMXP8KmKhrcbL88cnWyACO5JpS3UiaHQkLhjiaoZMA/640?wx_fmt=other&amp;tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)

如果输出太长，我们也可以限制它，比如前20条，我们可以使用 **head** 命令来做到。

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ watch -n 1 ‘ps -aux --sort -pmem, -pcpu | head 20’</span><br></pre></td></tr></table></figure>

这里的动态查看并不像top或者htop命令一样。但是使用ps的好处是你能够定义显示的字段，你能够选择你想查看的字段。

举个例子，如果你只需要看名为&apos;pungki&apos;用户的信息，你可以使用下面的命令：

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ watch -n 1 ‘ps -aux -U pungki u --sort -pmem, -pcpu | head 20’</span><br></pre></td></tr></table></figure>

![img](https://mmbiz.qpic.cn/mmbiz_png/QFzRdz9libEYfddXS8Cz7VaS8CMuO9et7zDRn9B1uDXXS0UGcU98R2pOYWFyxbar16EWTrbyg462SBuWAqMvAUA/640?tp=webp&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1)



你也许每天都会使用ps命令来监控你的Linux系统。但是事实上，你可以通过ps命令的参数来生成各种你需要的报表。

ps命令的另一个优势是ps是各种 Linux系统都默认安装的，因此你只要用就行了。不要忘了通过 man ps来查看更多的参数。</code></pre><ol start="15">
<li>文件内容查找grep</li>
</ol>
<p>Linux系统中的grep命令是一种功能强大的文本搜索工具，它能使用正则表达式搜索文本，并把匹配的行打印出来。grep全称是Global Regular Expression Print，表示全局正则表达式版本，它的使用权限是所有用户。</p>
<p><strong>1、语法参数</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">grep [options]</span><br><span class="line"></span><br><span class="line">[options]主要参数：</span><br><span class="line"></span><br><span class="line">-c：只输出匹配行的计数。</span><br><span class="line">-i：表示不区分大小写。</span><br><span class="line">-h：查询多文件时不显示文件名。</span><br><span class="line">-l：查询多文件时只输出包含匹配字符的文件名。</span><br><span class="line">-n：显示匹配行及行号。</span><br><span class="line">-s：不显示不存在或无匹配文本的错误信息。</span><br><span class="line">-v：显示不包含匹配文本的所有行，表示反向查找。</span><br><span class="line">--color=auto ：可以将找到的关键词部分加上颜色的显示</span><br></pre></td></tr></table></figure>

<p><strong>2、实例：</strong></p>
<p>1）查找包含“png”的行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'png'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>2）查找不包含“png”的行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -vn <span class="string">'png'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>3）查询na前面不是v的字符串</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'[^v]na'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>4）查询na前面不是小写字母的字符串</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'[^a-z]na'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>5）^匹配以某个字符开头的行。查询以ba开头的字符串</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'^ba'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>6）[^]匹配未包含的一个任意字符。查询不以字母开头的字符串</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'^[^a-zA-Z]'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p><img src="/2020/05/13/Linux/linuxbash.png" alt="linuxgrep命令行操作"></p>
<p>7）$匹配以某个字符结尾的行。查询以:结尾的字符串</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'\.$'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>//其中小数点“.”具有特殊意义，所以需要使用转义字符“\”将具有特殊意义的字符转化为普通字符</p>
<p>8）“.”匹配除\r\n外的任意一个字符。查询l与k之间包含两个字符的行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'l..k'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>9）查询包含连续e字母的行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'eee*'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>//“*”表示的是重复零个或多个前面的单字符</p>
<p>10）查询以l开头以e结尾中间至少包含一个x的行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'lxx*e'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>11）查询以l开头k结尾，中间的字符可有可无的行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'l.*k'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>12）{n}匹配确定的n次。查询包含两个e的行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[linuxmi@linux:~/linuxmi迷]$ grep -n <span class="string">'e\&#123;2\&#125;'</span> linuxmi.py</span><br></pre></td></tr></table></figure>

<p>//“{}”是特殊字符需要用“\”转义</p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Linux/" rel="tag"># Linux</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/04/22/effectiveC/" rel="next" title="effectiveC++">
                <i class="fa fa-chevron-left"></i> effectiveC++
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">翟安然</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/%7C%7C%20archive">
              
                  <span class="site-state-item-count">13</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">10</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">23</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Linux面试常考命令"><span class="nav-number">1.</span> <span class="nav-text">Linux面试常考命令</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">翟安然</span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

  
  
    <script src="/js/cursor/fireworks.js"></script>
  

</body>
</html>

